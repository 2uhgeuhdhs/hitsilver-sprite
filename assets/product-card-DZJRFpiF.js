import{j as e}from"./vendor-radix-CQVkZ5PM.js";import{u as $,b as F,d as z,e as B,f as I,B as P,S as q}from"./index-AMpIFFzz.js";import{L as u}from"./vendor-router-C9XR7sVB.js";function S({product:t,onFavToggle:n}){const{id:s,name:r,slug:o,price:f,images:h,rating:c,reviews:m,new:d,bestseller:p}=t,{addToCart:b,isInCart:g,getItemQuantity:j}=$(),{toast:v}=F(),{isFavorite:y,addToFavorites:N,removeFromFavorites:w}=z(),a=y(s),C=l=>{if(l.preventDefault(),n){n(t);return}a?w(s):N(t)},k=l=>{l.preventDefault(),b(t,1),v({title:"Товар добавлен в корзину",description:`${r} добавлен в корзину`,duration:2500})},i=g(s),x=j(s);return e.jsxs("div",{className:"group relative product-card",children:[d&&e.jsx("div",{className:"absolute top-3 left-3 z-10 bg-tiffany-blue text-white text-xs font-semibold px-2 py-1 rounded",children:"Новинка"}),p&&!d&&e.jsx("div",{className:"absolute top-3 left-3 z-10 bg-black text-white text-xs font-semibold px-2 py-1 rounded",children:"Хит продаж"}),e.jsx("button",{className:`absolute top-3 right-3 z-10 p-1.5 rounded-full bg-white/80 hover:bg-white transition-colors ${a?"text-tiffany-blue":"text-gray-600 hover:text-black"}`,"aria-label":a?"Убрать из избранного":"Добавить в избранное",onClick:C,children:e.jsx(B,{size:18,fill:a?"#1abc9c":"none"})}),e.jsx(u,{to:`/products/${o}`,className:"block aspect-square bg-gray-100 overflow-hidden rounded-lg",children:e.jsx("img",{src:h[0]||"/images/placeholder.jpg",alt:r,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300"})}),e.jsxs("div",{className:"mt-3 sm:mt-4 space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-1",children:[e.jsxs("div",{className:"text-xs sm:text-sm text-amber-500 flex items-center",children:["★".repeat(Math.floor(c)),"☆".repeat(5-Math.floor(c)),e.jsxs("span",{className:"ml-1 text-gray-500 text-xs hidden sm:inline",children:["(",m," отзывов)"]}),e.jsxs("span",{className:"ml-1 text-gray-500 text-xs sm:hidden",children:["(",m,")"]})]}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-tiffany-blue",children:I(f)})]}),e.jsx("h3",{className:"text-sm sm:text-base font-medium text-gray-900",children:e.jsx(u,{to:`/products/${o}`,children:r})}),e.jsx("div",{className:"pt-2 sm:pt-3",children:e.jsxs(P,{className:`w-full text-xs sm:text-sm py-1 sm:py-2 ${i?"bg-gray-300 text-gray-500":"bg-tiffany-blue text-white hover:bg-tiffany-blue-dark"}`,onClick:k,disabled:i,size:"sm",children:[e.jsx(q,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),i?`В корзине${x>1?` (${x})`:""}`:"В корзину"]})})]})]})}export{S as P};
