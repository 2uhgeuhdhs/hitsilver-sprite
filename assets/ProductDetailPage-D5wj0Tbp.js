import{j as e,t as $,L as F,u as M,v as _}from"./vendor-radix-CQVkZ5PM.js";import{c as j,a as o,u as z,b as B,d as H,f as R,C as v,B as x,S as O,e as q,i as A,j as E,k as D,H as Q}from"./index-AMpIFFzz.js";import{r as m,j as V,L as c}from"./vendor-router-C9XR7sVB.js";import{P as G}from"./product-grid-2XKDzOTm.js";import{C as h}from"./chevron-right-3CAP1V_A.js";import"./vendor-react-DJG_os-6.js";import"./vendor-utils-DyrdIqhm.js";import"./product-card-DZJRFpiF.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M5 12h14",key:"1ays0h"}]],U=j("minus",J);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Y=j("plus",W);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],X=j("truck",K);function Z({className:s,...t}){return e.jsx($,{"data-slot":"tabs",className:o("flex flex-col gap-2",s),...t})}function ee({className:s,...t}){return e.jsx(F,{"data-slot":"tabs-list",className:o("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...t})}function u({className:s,...t}){return e.jsx(M,{"data-slot":"tabs-trigger",className:o("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t})}function g({className:s,...t}){return e.jsx(_,{"data-slot":"tabs-content",className:o("flex-1 outline-none",s),...t})}function se({product:s}){const[t,a]=m.useState(s.images[0]),[r,l]=m.useState(1),[p,f]=m.useState(!1),{addToCart:N,getItemQuantity:k}=z(),{toast:w}=B(),{isFavorite:y,addToFavorites:C,removeFromFavorites:I}=H();if(!s)return null;const L=()=>{l(i=>i+1)},T=()=>{l(i=>i>1?i-1:1)},P=()=>{f(!0),N(s,r),w({title:"Товар добавлен в корзину",description:`${s.name} (${r} шт.) добавлен в корзину`,duration:3e3}),setTimeout(()=>{f(!1),l(1)},500)},S=()=>{y(s.id)?I(s.id):C(s)},b=k(s.id),d=y(s.id);return e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 product-detail-container",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-square overflow-hidden rounded-lg bg-gray-100",children:e.jsx("img",{src:t||"/images/placeholder.jpg",alt:s.name,className:"w-full h-full object-cover object-center"})}),e.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-4 gap-2 sm:gap-4",children:s.images.map((i,n)=>e.jsx("button",{className:`aspect-square overflow-hidden rounded-md bg-gray-100 ${t===i?"ring-2 ring-tiffany-blue":""}`,onClick:()=>a(i),"aria-label":`Показать изображение ${n+1}`,children:e.jsx("img",{src:i,alt:`${s.name} - вид ${n+1}`,className:"w-full h-full object-cover object-center"})},n))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-light text-gray-900 mb-2",children:s.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"text-amber-500 flex",children:["★".repeat(Math.floor(s.rating)),"☆".repeat(5-Math.floor(s.rating))]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[s.rating," (",s.reviews," отзывов)"]})]}),e.jsx("div",{className:"mt-4 text-xl sm:text-2xl font-medium text-tiffany-blue",children:R(s.price)})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:s.description}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(X,{size:16}),e.jsx("span",{children:"Бесплатная доставка"})]}),b>0&&e.jsxs("div",{className:"bg-green-50 text-green-700 p-3 rounded-md flex items-center space-x-2 text-sm",children:[e.jsx(v,{size:16}),e.jsxs("span",{children:["Уже в корзине: ",b," шт."]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[e.jsxs("div",{className:"border border-gray-300 rounded-md flex items-center",children:[e.jsx("button",{className:"p-2 text-gray-600 hover:text-black",onClick:T,"aria-label":"Уменьшить количество",children:e.jsx(U,{size:16})}),e.jsx("span",{className:"px-4",children:r}),e.jsx("button",{className:"p-2 text-gray-600 hover:text-black",onClick:L,"aria-label":"Увеличить количество",children:e.jsx(Y,{size:16})})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx(x,{className:"flex-1 bg-tiffany-blue text-white hover:bg-tiffany-blue-dark transition-all",onClick:P,disabled:p,children:p?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"mr-2 h-4 w-4"})," Добавлено"]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"mr-2 h-4 w-4"})," Добавить в корзину"]})}),e.jsx(x,{variant:d?"default":"outline",size:"icon","aria-label":d?"Убрать из избранного":"Добавить в избранное",className:d?"bg-tiffany-blue text-white hover:bg-tiffany-blue-dark":"",onClick:S,children:e.jsx(q,{className:"h-5 w-5",fill:d?"#1abc9c":"none"})})]})]})]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-6",children:e.jsxs(Z,{defaultValue:"features",children:[e.jsxs(ee,{className:"w-full grid grid-cols-3",children:[e.jsx(u,{value:"features",className:"text-xs sm:text-sm",children:"Характеристики"}),e.jsx(u,{value:"delivery",className:"text-xs sm:text-sm",children:"Доставка"}),e.jsx(u,{value:"returns",className:"text-xs sm:text-sm",children:"Возврат"})]}),e.jsx(g,{value:"features",className:"mt-4",children:e.jsx("ul",{className:"list-disc pl-5 space-y-2 text-gray-600 text-sm sm:text-base",children:s.features.map((i,n)=>e.jsx("li",{children:i},n))})}),e.jsx(g,{value:"delivery",className:"mt-4",children:e.jsxs("div",{className:"space-y-4 text-gray-600 text-sm sm:text-base",children:[e.jsx("p",{children:"Мы предлагаем различные варианты доставки:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Стандартная доставка — бесплатно (3-5 рабочих дней)"}),e.jsx("li",{children:"Экспресс-доставка — 500₽ (1-2 рабочих дня)"}),e.jsx("li",{children:"Самовывоз из бутика — бесплатно"})]})]})}),e.jsx(g,{value:"returns",className:"mt-4",children:e.jsxs("div",{className:"space-y-4 text-gray-600 text-sm sm:text-base",children:[e.jsx("p",{children:"Условия возврата:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"30 дней на возврат"}),e.jsx("li",{children:"Изделие должно быть в идеальном состоянии"}),e.jsx("li",{children:"Сохранены все бирки и упаковка"}),e.jsx("li",{children:"Бесплатный возврат курьером или в бутике"})]})]})})]})})]})]})})}function xe(){const{productId:s}=V(),t=A(s);if(!t)return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 text-center",children:[e.jsx("h1",{className:"text-3xl font-light text-gray-900 mb-6",children:"Товар не найден"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Извините, мы не можем найти товар, который вы ищете."}),e.jsx(x,{asChild:!0,className:"bg-tiffany-blue text-white hover:bg-tiffany-blue-dark",children:e.jsx(c,{to:"/products",children:"Ко всем товарам"})})]});const a=E(t.categoryId),r=D(4,t.id);return e.jsxs(e.Fragment,{children:[e.jsxs(Q,{children:[e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Главная",item:"/"},{"@type":"ListItem",position:2,name:(a==null?void 0:a.name)||"Категория",item:`/categories/${t.categoryId}`},{"@type":"ListItem",position:3,name:t.name,item:`/products/${t.slug||s}`}]})}),e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Product",name:t.name,description:t.description,category:(a==null?void 0:a.name)||t.categoryId,image:(t.images||[]).map(l=>(l.startsWith("http"),l)),brand:{"@type":"Organization",name:"HIT SILVER GALLERY"},offers:{"@type":"Offer",priceCurrency:"RUB",price:t.price,availability:t.inStock?"https://schema.org/InStock":"https://schema.org/OutOfStock",url:`/products/${t.slug||s}`}})})]}),e.jsx("div",{className:"bg-gray-50 py-4",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"flex",children:e.jsxs("ol",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx("li",{children:e.jsx(c,{to:"/",className:"hover:text-tiffany-blue",children:"Главная"})}),e.jsx("li",{children:e.jsx(h,{className:"h-4 w-4"})}),e.jsx("li",{children:e.jsx(c,{to:"/products",className:"hover:text-tiffany-blue",children:"Все товары"})}),e.jsx("li",{children:e.jsx(h,{className:"h-4 w-4"})}),e.jsx("li",{children:e.jsx(c,{to:`/categories/${t.categoryId}`,className:"hover:text-tiffany-blue",children:(a==null?void 0:a.name)||"Категория"})}),e.jsx("li",{children:e.jsx(h,{className:"h-4 w-4"})}),e.jsx("li",{className:"text-tiffany-blue font-medium",children:t.name})]})})})}),e.jsx(se,{product:t}),e.jsx("section",{className:"bg-gray-50 py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-light text-gray-900",children:"Вам может понравиться"}),e.jsx(x,{variant:"outline",asChild:!0,children:e.jsx(c,{to:"/products",children:"Смотреть все"})})]}),e.jsx(G,{products:r})]})})]})}export{xe as default};
